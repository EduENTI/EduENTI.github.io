<!DOCTYPE html>
<html lang="es">
	<head>
		<title>JUEGO</title>
		<link rel="stylesheet" href="estilo.css" />
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<script>
			let num_max = 100;
			let num_min = 1;
			let numero_adivinar = Math.floor(Math.random()*num_max)+num_min;
			let contador = 0;
			let intentos_maximos = 10;
			
			function compara_numero ()
			{
				let mi_numero_input = document.getElementById("tu-numero");
				let mi_numero = mi_numero_input.value;
				let resultado = document.getElementById("resultado");
				let contador_parrafo = document.getElementById("contador");
				let cajetilla = document.getElementById("field-button");
				let fallo = false;
				
				console.log(numero_adivinar.value);
				
				if (mi_numero < 1 || mi_numero > 100 || mi_numero === "")
				{
					console.log("Alerta!");
					return 1;
				}
				else
				{
					if (mi_numero > numero_adivinar)
					{
						resultado.innerHTML = "<em class=\"error\">El numero a adivinar es <strong>menor</strong> que "+mi_numero+".</em>";
						fallo = true;
					}
					else if (mi_numero < numero_adivinar)
					{
						resultado.innerHTML = "<em class=\"error\">El numero a adivinar es <strong>mayor</strong> que "+mi_numero+".</em>";
						fallo = true;
					}
					else
					{
						resultado.innerHTML = "<em class=\"you-win\"><strong>¡Has acertado el número!</strong> Era el número "+numero_adivinar+".</em>";
						fallo = false;
					}
					
					if(fallo)
					{
						cajetilla.classList.add("input-error");
					}
					else
					{
						cajetilla.classList.remove("input-error");
					}
					
					contador++;
					
					if(numero_adivinar == mi_numero)
					{
						contador_parrafo.innerHTML = "Te ha llevado "+contador+" intentos adivinar el número.";
					}
					else
					{
						contador_parrafo.innerHTML = "Llevas un total de "+contador+" intentos.";
					}

					if (contador >= intentos_maximos)
					{
						cajetilla.disabled = true;
						cajetilla.style.display = "none";
						resultado.innerHTML = "<em class='error'>Has alcanzado el máximo de intentos.</em>";
					}
					
					mi_numero_input.value = "";
					mi_numero_input.focus();
				}
			}
		</script>	
	</head>
	<body class="fondo-papeles">
		<header class="papel">
			<h1>CYBERSECURITY PORTFOLIO</h1>
			<nav>
				<ul>
					<li><a href="index.html">Home</a></li>
					<li><a href="cv.html">CV</a></li>
					<li><a href="hobbies.html">Hobbies</a></li>
					<li><a href="contacto.html">Contacto</a></li>
					<li><a href="microjuego.html">Juego</a></li>
				</ul>
			</nav>
		</header>
		
		<main class="contenedor-papeles">
			<article class="papel centrado">
				<h2>Minijuego</h2>
				<form>
					<h3>Adivina el número</h3>
					<p>Adivina el número que he generado. Es un número entre el  <strong>1</strong> y el <strong>100</strong>.</p>
					<p id="resultado"><strong>¡Prueba suerte!</strong></p>
					<p id="contador"></p>
					<p><label for="tu-numero">Tu número: </label><input type="number" name="numeroElegido" id="tu-numero" /></p>
					<p><label for="field-button"></label><input type="button" name="button" id="field-button" value="Adivina!" onClick="compara_numero ();" /></p>
				</form>
			</article>
		</main>
		
		<footer class="papel centrado">
			<nav class="navegacion-web">
				<ul>
					<li><a href="index.html">Home</a> - Presentación personal.</li>
					<li><a href="cv.html">CV</a> - Estudios y trabajos.</li>
					<li><a href="hobbies.html">Hobbies</a> - Gustos e intereses.</li>
					<li><a href="contacto.html">Contacto</a> - WORK IN PROGRESS...</li>
					<li><a href="microjuego.html">Juego</a> - Minijuego.</li>
				</ul>
			</nav>
			<p>&copy; 2025 XUT</p>
		</footer>
	</body>
</html>
